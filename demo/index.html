<!DOCTYPE HTML>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <title>jQuery Credit Card Validator Demo</title>

    <link rel="stylesheet" href="demo.css">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="../jquery.creditCardValidator.js"></script>
</head>
<body>
    <form>
        <h2>Payment details</h2>

        <ul>
            <li>
                <ul class="cards">
                    <li class="visa">Visa</li>
                    <li class="visa-electron">Visa Electron</li>
                    <li class="mastercard">MasterCard</li>
                    <li class="maestro">Maestro</li>
                    <li class="discover">Discover</li>
                </ul>
            </li>

            <li>
                <label for="card_number">Card number</label>
                <input type="text" name="card_number" id="card_number">
            </li>

            <li class="vertical">
                <ul>
                    <li>
                        <label for="expiry_date">Expiry date <small>mm/yy</small></label>
                        <input type="text" name="expiry_date" id="expiry_date" maxlength="5">
                    </li>

                    <li>
                        <label for="cvv">CVV</label>
                        <input type="text" name="cvv" id="cvv" maxlength="3">
                    </li>
                </ul>
            </li>

            <li class="vertical maestro">
                <ul>
                    <li>
                        <label for="issue_date">Issue date <small>mm/yy</small></label>
                        <input type="text" name="issue_date" id="issue_date" maxlength="5">
                    </li>

                    <li>
                        <span class="or">or</span>
                        <label for="issue_number">Issue number</label>
                        <input type="text" name="issue_number" id="issue_number" maxlength="2">
                    </li>
                </ul>
            </li>

            <li>
                <label for="name_on_card">Name on card</label>
                <input type="text" name="name_on_card" id="name_on_card">
            </li>
        </ul>
    </form>

    <script>
        $(function() {
            $('.vertical.maestro').hide().css({opacity: 0});
            $('#card_number').cards(function(result) {
                if (result.card_type === null) {
                    $('.cards li').removeClass('off');
                    $('#card_number').removeClass('valid');
                    $('.vertical.maestro').slideUp({duration: 200}).animate({opacity:0}, {queue: false, duration: 200});
                    return;
                }

                $('.cards li').addClass('off');
                $('.cards .' + result.card_type.name).removeClass('off');

                if (result.card_type.name == 'maestro') {
                    $('.vertical.maestro').slideDown({duration: 200}).animate({opacity:1}, {queue: false});
                } else {    
                    $('.vertical.maestro').slideUp({duration: 200}).animate({opacity:0}, {queue: false, duration: 200});
                }

                if (result.length_valid && result.luhn_valid) {
                    $('#card_number').addClass('valid');
                } else {
                    $('#card_number').removeClass('valid');
                }
            });
        });
    </script>
</body>
</html>